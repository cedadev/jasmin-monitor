function filterChart() {
    alert("Hello World");



var dataPoints = [];
		    var org_name = document.getElementById("org_name").value;
                    var type = document.getElementById("metric_type").value;
            alert(type)
                    $.ajax(
                    {
                        type: "GET",
                        url: "api/cpu/main",
                        data:
                        {
			    'org_name': org_name,
                            'metric_type': type,
                        },
                        dataType: 'json',
                        success: function(data)
                        {
                            console.log(data);

			//    if (type == "") {
		//	    alert(type);
//}

                            $.each(data, function(index, element)
                            {
			       xval = element.collection_time
                               yval = element.total
				var reggie = /(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})/
				var dateArray = reggie.exec(xval)
				var dateObject = new Date(
				    (+dateArray[1]),
				    (+dateArray[2])-1, // Careful, month starts at 0!
				    (+dateArray[3]),
				    (+dateArray[4]),
				    (+dateArray[5]),
				    (+dateArray[6])
				);
				
			
			       var x = [new Date(dateObject),yval]
			       dataPoints.push(x);
	
                            });
				if (type == "CPU" || type == "") {
	
				  g = new Dygraph(

				    // containing div
				    document.getElementById("cpu_graph"),dataPoints,
		                 {
		                    drawPoints: true,
		                    //showRoller: true,
				    labels: ['Date Time', 'Total'],
				    title: 'Resource Used',
				    xlabel: 'Date (Collection Time)',
				    ylabel: 'Core Values Used',
		                    strokeWidth: 1.5
		                    
				}

				  );
				} else if (type == "RAM") {
								  g = new Dygraph(

				    // containing div
				    document.getElementById("ram_graph"),dataPoints,
		                 {
		                    drawPoints: true,
		                    //showRoller: true,
				    labels: ['Date Time', 'Total'],
				    title: 'Resource Used',
				    xlabel: 'Date (Collection Time)',
				    ylabel: 'Ram Used',
		                    strokeWidth: 1.5
		                    
				}

				  );
				}

                        }
                    }).fail(function()
                    {
                        alert('ERROR! \nAre the dates entered in the correct format ("YYYY-mm-dd")');

 });


}
